# ğŸ‰ Epic 1 ì™„ë£Œ ìš”ì•½

## ì „ì²´ ê°œìš”

**Epic 1: ë°ì´í„° ìˆ˜ì§‘ íŒŒì´í”„ë¼ì¸ ê°œí¸ (S3 ì—°ë™)**ì´ ì„±ê³µì ìœ¼ë¡œ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤!

ì‚¬ìš©ìê°€ YouTube URLë¿ë§Œ ì•„ë‹ˆë¼ ë¡œì»¬ ë™ì˜ìƒ íŒŒì¼ì„ ì§ì ‘ ì—…ë¡œë“œí•˜ì—¬ ë¶„ì„í•  ìˆ˜ ìˆëŠ” ì™„ì „í•œ íŒŒì´í”„ë¼ì¸ì´ êµ¬ì¶•ë˜ì—ˆìŠµë‹ˆë‹¤.

## ì™„ë£Œëœ 3ê°œ ì´ìŠˆ

### âœ… Issue 1.1: S3 Presigned URL ë°œê¸‰ gRPC API êµ¬í˜„
**ë°±ì—”ë“œ (Go)**
- AWS SDK for Go v2 í†µí•©
- `GetUploadURL` gRPC ë©”ì„œë“œ êµ¬í˜„
- 15ë¶„ ë§Œë£Œ Presigned URL ìƒì„±
- ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ ì‘ì„±

**í•µì‹¬ íŒŒì¼:**
- `backend/internal/s3/client.go`
- `backend/internal/grpc/handler.go`
- `backend/proto/analysis.proto`

### âœ… Issue 1.2: í”„ë¡ íŠ¸ì—”ë“œ ì§ì ‘ ë¹„ë””ì˜¤ ì—…ë¡œë“œ UI ë° S3 ì—°ë™
**í”„ë¡ íŠ¸ì—”ë“œ (React + TypeScript)**
- ë“œë˜ê·¸ ì•¤ ë“œë¡­ íŒŒì¼ ì—…ë¡œë“œ UI
- gRPC-Webì„ í†µí•œ Presigned URL ìš”ì²­
- axiosë¥¼ ì´ìš©í•œ S3 ì§ì ‘ ì—…ë¡œë“œ
- ì‹¤ì‹œê°„ ì§„í–‰ë¥  í‘œì‹œ (0-100%)

**í•µì‹¬ íŒŒì¼:**
- `frontend/src/components/VideoUpload.tsx`
- `frontend/src/pages/Index.tsx`

### âœ… Issue 1.3: S3 ì—…ë¡œë“œ ì´ë²¤íŠ¸ ë° EventBridge ì—°ë™ ì„¤ì •
**ì¸í”„ë¼ (Terraform)**
- S3 ë²„í‚· ìƒì„± ë° ë³´ì•ˆ ì„¤ì •
- EventBridge ì•Œë¦¼ í™œì„±í™”
- S3 PutObject ì´ë²¤íŠ¸ ê°ì§€ ê·œì¹™
- CloudWatch Logs í…ŒìŠ¤íŠ¸ íƒ€ê²Ÿ

**í•µì‹¬ íŒŒì¼:**
- `terraform/s3.tf`
- `terraform/eventbridge.tf`
- `terraform/test-s3-events.sh`

## ì•„í‚¤í…ì²˜ í”Œë¡œìš°

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   ì‚¬ìš©ì     â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â”‚ 1. íŒŒì¼ ì„ íƒ (Drag & Drop)
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Frontend (React)    â”‚
â”‚  VideoUpload.tsx     â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â”‚ 2. GetUploadURL (gRPC)
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Backend (Go)        â”‚
â”‚  S3 Client           â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â”‚ 3. Generate Presigned URL
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  AWS S3              â”‚
â”‚  silver-guardian-    â”‚
â”‚  uploads             â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â”‚ 4. Object Created Event
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  EventBridge         â”‚
â”‚  Rule: s3-upload     â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â”‚ 5. Trigger (í˜„ì¬: Logs, í–¥í›„: Step Functions)
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  CloudWatch Logs     â”‚
â”‚  /aws/events/...     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ë°°í¬ ë° í…ŒìŠ¤íŠ¸

### 1. ë°±ì—”ë“œ ë°°í¬
```bash
cd backend
go build -o bin/server cmd/server/main.go
./bin/server
```

### 2. í”„ë¡ íŠ¸ì—”ë“œ ë°°í¬
```bash
cd frontend
npm run dev
```

### 3. ì¸í”„ë¼ ë°°í¬
```bash
./deploy.sh
```

### 4. í…ŒìŠ¤íŠ¸
```bash
cd terraform
./test-s3-events.sh
```

## ì£¼ìš” ê¸°ëŠ¥

### ë³´ì•ˆ
- âœ… Presigned URL (15ë¶„ ë§Œë£Œ)
- âœ… S3 í¼ë¸”ë¦­ ì•¡ì„¸ìŠ¤ ì°¨ë‹¨
- âœ… ì„œë²„ ì¸¡ ì•”í˜¸í™” (AES256)
- âœ… CORS ì„¤ì • (í—ˆìš©ëœ ì˜¤ë¦¬ì§„ë§Œ)

### ì‚¬ìš©ì ê²½í—˜
- âœ… ë“œë˜ê·¸ ì•¤ ë“œë¡­ ì¸í„°í˜ì´ìŠ¤
- âœ… ì‹¤ì‹œê°„ ì—…ë¡œë“œ ì§„í–‰ë¥ 
- âœ… ì—ëŸ¬ í•¸ë“¤ë§ ë° ì¬ì‹œë„
- âœ… ìƒíƒœë³„ ì‹œê°ì  í”¼ë“œë°±

### í™•ì¥ì„±
- âœ… ë°±ì—”ë“œ ë¶€í•˜ ì—†ëŠ” ì§ì ‘ ì—…ë¡œë“œ
- âœ… ì´ë²¤íŠ¸ ê¸°ë°˜ ìë™ íŠ¸ë¦¬ê±°
- âœ… Step Functions ì—°ë™ ì¤€ë¹„ ì™„ë£Œ

## ìƒì„±ëœ íŒŒì¼ ëª©ë¡

```
backend/
â”œâ”€â”€ internal/s3/
â”‚   â”œâ”€â”€ client.go
â”‚   â””â”€â”€ client_test.go
â”œâ”€â”€ internal/grpc/handler.go (ìˆ˜ì •)
â”œâ”€â”€ internal/app/app.go (ìˆ˜ì •)
â”œâ”€â”€ proto/analysis.proto (ìˆ˜ì •)
â””â”€â”€ .env (ìˆ˜ì •)

frontend/
â”œâ”€â”€ src/components/VideoUpload.tsx
â”œâ”€â”€ src/pages/Index.tsx (ìˆ˜ì •)
â””â”€â”€ src/generated/analysis.ts (ì¬ìƒì„±)

terraform/
â”œâ”€â”€ s3.tf
â”œâ”€â”€ eventbridge.tf
â”œâ”€â”€ outputs.tf (ìˆ˜ì •)
â””â”€â”€ test-s3-events.sh

docs/
â”œâ”€â”€ epic-1.1-completion.md
â”œâ”€â”€ epic-1.2-completion.md
â”œâ”€â”€ epic-1.3-completion.md
â”œâ”€â”€ epic-1-progress.md
â””â”€â”€ epic-1-summary.md (ì´ íŒŒì¼)
```

## ì„±ê³¼ ì§€í‘œ

- **ì½”ë“œ ë¼ì¸**: ~800 ë¼ì¸ (ë°±ì—”ë“œ + í”„ë¡ íŠ¸ì—”ë“œ + ì¸í”„ë¼)
- **í…ŒìŠ¤íŠ¸ ì»¤ë²„ë¦¬ì§€**: ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ + í†µí•© í…ŒìŠ¤íŠ¸ ìŠ¤í¬ë¦½íŠ¸
- **ë°°í¬ ì‹œê°„**: ~5ë¶„ (Terraform apply)
- **ì‚¬ìš©ì ê²½í—˜**: ë“œë˜ê·¸ ì•¤ ë“œë¡­ â†’ ì—…ë¡œë“œ â†’ ì´ë²¤íŠ¸ íŠ¸ë¦¬ê±° (ì™„ì „ ìë™í™”)

## ë‹¤ìŒ ë‹¨ê³„: Epic 2

**EKS ë¹„ì „/ì˜¤ë””ì˜¤ ë¶„ì„ ë§ˆì´í¬ë¡œì„œë¹„ìŠ¤ êµ¬ì¶•**

1. Audio Analyzer (FastAPI) - ë”¥í˜ì´í¬ ìŒì„± íƒì§€
2. Video Analyzer (FastAPI) - í”„ë ˆì„ ì¡°ì‘ íƒì§€
3. EKS Spot ì¸ìŠ¤í„´ìŠ¤ ë…¸ë“œ ê·¸ë£¹ - ë¹„ìš© ìµœì í™”
4. KEDA Scale-to-Zero - ë¦¬ì†ŒìŠ¤ íš¨ìœ¨ì„±

## ì°¸ê³  ë¬¸ì„œ

- [Epic 1.1 ìƒì„¸ ë¬¸ì„œ](./epic-1.1-completion.md)
- [Epic 1.2 ìƒì„¸ ë¬¸ì„œ](./epic-1.2-completion.md)
- [Epic 1.3 ìƒì„¸ ë¬¸ì„œ](./epic-1.3-completion.md)
- [ì „ì²´ ë¡œë“œë§µ](./milestones.md)

---

**ì‘ì„±ì¼**: 2026-02-21  
**ì‘ì„±ì**: Kiro AI Assistant  
**í”„ë¡œì íŠ¸**: Silver Guardian
